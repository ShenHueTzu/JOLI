{"ast":null,"code":"import Cookies from 'js-cookie';\nimport { HOST } from '../config';\nimport apiPath from '../constants/apiPath';\nlet accessToken = Cookies.get('access_token');\nexport const getFormList = () => {\n  const options = {\n    method: 'GET',\n    headers: new Headers({\n      'Authorization': `Bearer ${accessToken}`\n    })\n  };\n  return fetch(`${HOST}${apiPath.forms.formList}`, options).then(res => res.json()).then(resp => resp).catch(e => console.log(e));\n};\nexport const getFormById = ({\n  uuid\n}) => {\n  const options = {\n    method: 'GET',\n    headers: new Headers({\n      'Authorization': `Bearer ${accessToken}`\n    })\n  };\n  return fetch(`${HOST}${apiPath.forms.formList}/${uuid}`, options).then(res => res.json()).then(resp => resp).catch(e => console.log(e));\n};\nexport const getFormResponse = ({\n  uuid\n}) => {\n  const options = {\n    method: 'GET',\n    headers: new Headers({\n      'Authorization': `Bearer ${accessToken}`\n    })\n  };\n  return fetch(`${HOST}${apiPath.forms.formList}/${uuid}/response`, options).then(res => res.json()).then(resp => resp).catch(e => console.log(e));\n};\nexport const createForm = data => {\n  const options = {\n    method: 'POST',\n    headers: new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${accessToken}`\n    }),\n    body: JSON.stringify(data)\n  };\n  return fetch(`${HOST}${apiPath.forms.formList}`, options).then(res => res.json()).then(resp => resp).catch(e => console.log(e));\n};\nexport const deleteForm = ({\n  uuid\n}) => {\n  const options = {\n    method: 'DELETE',\n    headers: new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${accessToken}`\n    })\n  };\n  return fetch(`${HOST}${apiPath.forms.formList}/${uuid}`, options).then(res => res.json()).then(() => getFormList()).catch(e => console.log(e));\n};\nexport const submitForm = (data, uuid) => {\n  const options = {\n    method: 'POST',\n    headers: new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${accessToken}`\n    }),\n    body: JSON.stringify(data)\n  };\n  return fetch(`${HOST}${apiPath.forms.formList}/${uuid}/submit`, options).then(res => res.json()).then(resp => resp).catch(e => console.log(e));\n};","map":{"version":3,"sources":["/Users/shen/JOLI/apis/forms.js"],"names":["Cookies","HOST","apiPath","accessToken","get","getFormList","options","method","headers","Headers","fetch","forms","formList","then","res","json","resp","catch","e","console","log","getFormById","uuid","getFormResponse","createForm","data","body","JSON","stringify","deleteForm","submitForm"],"mappings":"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","sourcesContent":["import Cookies from 'js-cookie';\nimport { HOST } from '../config';\nimport apiPath from '../constants/apiPath';\n\nlet accessToken = Cookies.get('access_token');\n\nexport const getFormList = () => {\n  const options = {\n    method: 'GET',\n    headers: new Headers({\n      'Authorization': `Bearer ${accessToken}`\n    }),\n  };\n\n  return fetch(`${HOST}${apiPath.forms.formList}`, options)\n  .then((res) => res.json())\n  .then((resp) => resp)\n  .catch((e) => console.log(e));\n};\n\nexport const getFormById = ({ uuid }) => {\n  const options = {\n    method: 'GET',\n    headers: new Headers({\n      'Authorization': `Bearer ${accessToken}`\n    }),\n  };\n\n  return fetch(`${HOST}${apiPath.forms.formList}/${uuid}`, options)\n    .then((res) => res.json())\n    .then((resp) => resp)\n    .catch((e) => console.log(e));\n};\n\nexport const getFormResponse = ({ uuid }) => {\n  const options = {\n    method: 'GET',\n    headers: new Headers({\n      'Authorization': `Bearer ${accessToken}`\n    }),\n  };\n\n  return fetch(`${HOST}${apiPath.forms.formList}/${uuid}/response`, options)\n    .then((res) => res.json())\n    .then((resp) => resp)\n    .catch((e) => console.log(e));\n}\n\nexport const createForm = (data) => {\n  const options = {\n    method: 'POST',\n    headers: new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${accessToken}`\n    }),\n    body: JSON.stringify(data),\n  };\n\n  return fetch(`${HOST}${apiPath.forms.formList}`, options)\n  .then((res) => res.json())\n  .then((resp) => resp)\n  .catch((e) => console.log(e));\n};\n\nexport const deleteForm = ({ uuid }) => {\n  const options = {\n    method: 'DELETE',\n    headers: new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${accessToken}`\n    }),\n  };\n  return fetch(`${HOST}${apiPath.forms.formList}/${uuid}`, options)\n  .then((res) => res.json())\n  .then(() => getFormList())\n  .catch((e) => console.log(e));\n};\n\nexport const submitForm = (data, uuid) => {\n  const options = {\n    method: 'POST',\n    headers: new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${accessToken}`\n    }),\n    body: JSON.stringify(data),\n  };\n\n  return fetch(`${HOST}${apiPath.forms.formList}/${uuid}/submit`, options)\n  .then((res) => res.json())\n  .then((resp) => resp)\n  .catch((e) => console.log(e));\n};"]},"metadata":{},"sourceType":"module"}