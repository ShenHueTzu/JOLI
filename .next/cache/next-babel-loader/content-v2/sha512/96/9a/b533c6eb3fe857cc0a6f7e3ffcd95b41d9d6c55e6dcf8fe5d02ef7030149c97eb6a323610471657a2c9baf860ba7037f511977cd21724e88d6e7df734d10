{"ast":null,"code":"import Cookies from 'js-cookie';\nimport { HOST } from '../config';\nimport apiPath from '../constants/apiPath';\nvar accessToken = Cookies.get('access_token');\nexport var getFormList = function getFormList() {\n  var options = {\n    method: 'GET',\n    headers: new Headers({\n      'Authorization': \"Bearer \".concat(accessToken)\n    })\n  };\n  return fetch(\"\".concat(HOST).concat(apiPath.forms.formList), options).then(function (res) {\n    return res.json();\n  }).then(function (resp) {\n    return resp;\n  })[\"catch\"](function (e) {\n    return console.log(e);\n  });\n};\nexport var getFormById = function getFormById(_ref) {\n  var uuid = _ref.uuid;\n  var options = {\n    method: 'GET',\n    headers: new Headers({\n      'Authorization': \"Bearer \".concat(accessToken)\n    })\n  };\n  return fetch(\"\".concat(HOST).concat(apiPath.forms.formList, \"/\").concat(uuid), options).then(function (res) {\n    return res.json();\n  }).then(function (resp) {\n    return resp;\n  })[\"catch\"](function (e) {\n    return console.log(e);\n  });\n};\nexport var getFormResponse = function getFormResponse(_ref2) {\n  var uuid = _ref2.uuid;\n  var options = {\n    method: 'GET',\n    headers: new Headers({\n      'Authorization': \"Bearer \".concat(accessToken)\n    })\n  };\n  return fetch(\"\".concat(HOST).concat(apiPath.forms.formList, \"/\").concat(uuid, \"/response\"), options).then(function (res) {\n    return res.json();\n  }).then(function (resp) {\n    return resp;\n  })[\"catch\"](function (e) {\n    return console.log(e);\n  });\n};\nexport var createForm = function createForm(data) {\n  var options = {\n    method: 'POST',\n    headers: new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': \"Bearer \".concat(accessToken)\n    }),\n    body: JSON.stringify(data)\n  };\n  return fetch(\"\".concat(HOST).concat(apiPath.forms.formList), options).then(function (res) {\n    return res.json();\n  }).then(function (resp) {\n    return resp;\n  })[\"catch\"](function (e) {\n    return console.log(e);\n  });\n};\nexport var deleteForm = function deleteForm(_ref3) {\n  var uuid = _ref3.uuid;\n  var options = {\n    method: 'DELETE',\n    headers: new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': \"Bearer \".concat(accessToken)\n    })\n  };\n  return fetch(\"\".concat(HOST).concat(apiPath.forms.formList, \"/\").concat(uuid), options).then(function (res) {\n    return res.json();\n  }).then(function () {\n    return getFormList();\n  })[\"catch\"](function (e) {\n    return console.log(e);\n  });\n};\nexport var submitForm = function submitForm(data, uuid) {\n  var options = {\n    method: 'POST',\n    headers: new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': \"Bearer \".concat(accessToken)\n    }),\n    body: JSON.stringify(data)\n  };\n  return fetch(\"\".concat(HOST).concat(apiPath.forms.formList, \"/\").concat(uuid, \"/submit\"), options).then(function (res) {\n    return res.json();\n  }).then(function (resp) {\n    return resp;\n  })[\"catch\"](function (e) {\n    return console.log(e);\n  });\n};","map":{"version":3,"sources":["/Users/shen/JOLI/apis/forms.js"],"names":["Cookies","HOST","apiPath","accessToken","get","getFormList","options","method","headers","Headers","fetch","forms","formList","then","res","json","resp","e","console","log","getFormById","uuid","getFormResponse","createForm","data","body","JSON","stringify","deleteForm","submitForm"],"mappings":"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","sourcesContent":["import Cookies from 'js-cookie';\nimport { HOST } from '../config';\nimport apiPath from '../constants/apiPath';\n\nlet accessToken = Cookies.get('access_token');\n\nexport const getFormList = () => {\n  const options = {\n    method: 'GET',\n    headers: new Headers({\n      'Authorization': `Bearer ${accessToken}`\n    }),\n  };\n\n  return fetch(`${HOST}${apiPath.forms.formList}`, options)\n  .then((res) => res.json())\n  .then((resp) => resp)\n  .catch((e) => console.log(e));\n};\n\nexport const getFormById = ({ uuid }) => {\n  const options = {\n    method: 'GET',\n    headers: new Headers({\n      'Authorization': `Bearer ${accessToken}`\n    }),\n  };\n\n  return fetch(`${HOST}${apiPath.forms.formList}/${uuid}`, options)\n    .then((res) => res.json())\n    .then((resp) => resp)\n    .catch((e) => console.log(e));\n};\n\nexport const getFormResponse = ({ uuid }) => {\n  const options = {\n    method: 'GET',\n    headers: new Headers({\n      'Authorization': `Bearer ${accessToken}`\n    }),\n  };\n\n  return fetch(`${HOST}${apiPath.forms.formList}/${uuid}/response`, options)\n    .then((res) => res.json())\n    .then((resp) => resp)\n    .catch((e) => console.log(e));\n}\n\nexport const createForm = (data) => {\n  const options = {\n    method: 'POST',\n    headers: new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${accessToken}`\n    }),\n    body: JSON.stringify(data),\n  };\n\n  return fetch(`${HOST}${apiPath.forms.formList}`, options)\n  .then((res) => res.json())\n  .then((resp) => resp)\n  .catch((e) => console.log(e));\n};\n\nexport const deleteForm = ({ uuid }) => {\n  const options = {\n    method: 'DELETE',\n    headers: new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${accessToken}`\n    }),\n  };\n  return fetch(`${HOST}${apiPath.forms.formList}/${uuid}`, options)\n  .then((res) => res.json())\n  .then(() => getFormList())\n  .catch((e) => console.log(e));\n};\n\nexport const submitForm = (data, uuid) => {\n  const options = {\n    method: 'POST',\n    headers: new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${accessToken}`\n    }),\n    body: JSON.stringify(data),\n  };\n\n  return fetch(`${HOST}${apiPath.forms.formList}/${uuid}/submit`, options)\n  .then((res) => res.json())\n  .then((resp) => resp)\n  .catch((e) => console.log(e));\n};"]},"metadata":{},"sourceType":"module"}